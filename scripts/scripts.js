(function(){function goTop(acceleration,time){acceleration=acceleration||0.1;time=time||16;var dx=0,dy=0,bx=0,by=0,wx=0,wy=0;if(document.documentElement){dx=document.documentElement.scrollLeft||0;dy=document.documentElement.scrollTop||0;}if(document.body){bx=document.body.scrollLeft||0;by=document.body.scrollTop||0;}var wx=window.scrollX||0,wy=window.scrollY||0,x=Math.max(wx,Math.max(bx,dx)),y=Math.max(wy,Math.max(by,dy)),speed=1+acceleration;window.scrollTo(Math.floor(x/speed),Math.floor(y/speed));if(x>0||y>0){var invokeFunction="ilosts.goTop("+acceleration+","+time+")";window.setTimeout(invokeFunction,time);}}function quickComments(){commentobj=document.getElementById('comment');if(commentobj){commentobj.onkeydown=function(moz_ev){var ev=null;if(window.event){ev=window.event;}else{ev=moz_ev;}if(ev!=null&&ev.ctrlKey&&ev.keyCode==13){document.getElementById('submit').click();}}}}window['ilosts']={};window['ilosts']['goTop']=goTop;window['ilosts']['quickComments']=quickComments;})();(function(jQuery){ilostQ=jQuery.noConflict();var $window=ilostQ(window),$document=ilostQ(document),mouseover_tid=[],mouseout_tid=[];$document.ready(function(){var $nav=ilostQ('#navs'),$searchs=ilostQ('#searchform #s'),Storage=localStorage,$username=ilostQ('input#author'),$usermaill=ilostQ('input#email'),$userurl=ilostQ('input#url');$nav.find('li').has('ul').addClass('sub-ul');$nav.find('li').each(function(index){ilostQ(this).hover(function(){var _self=this;clearTimeout(mouseout_tid[index]);mouseover_tid[index]=setTimeout(function(){ilostQ(_self).find('ul:eq(0)').slideDown(200);},200);},function(){var _self=this;clearTimeout(mouseover_tid[index]);mouseout_tid[index]=setTimeout(function(){ilostQ(_self).find('ul:eq(0)').slideUp(200);},200);});});$searchs.focus(function(){if(ilostQ(this).val()=='Search blog...'){ilostQ(this).css({color:'#555'}).val('');}}).blur(function(){if(ilostQ(this).val()==''){ilostQ(this).css({color:'#aaa'}).val('Search blog...');}});ilostQ(function(){if($searchs.val()=='' || $searchs.val()=='Search blog...'){$searchs.css({color:'#999'}).val('Search blog...');}});if(Storage.ilostQ_commentform_author){$username.val(Storage.ilostQ_commentform_author);}if(Storage.ilostQ_commentform_author){$usermaill.val(Storage.ilostQ_commentform_email);}if(Storage.ilostQ_commentform_author){$userurl.val(Storage.ilostQ_commentform_url);}$username.blur(function(){Storage.ilostQ_commentform_author=ilostQ(this).val();});$usermaill.blur(function(){Storage.ilostQ_commentform_email=ilostQ(this).val();});$userurl.blur(function(){Storage.ilostQ_commentform_url=ilostQ(this).val();});ilostQ("section .entry a[href*='http://']:not([href*='"+location.hostname+"']),[href*='https://']:not([href*='"+location.hostname+"'])").addClass("external");ilostQ('#sidehome li ul').hide();ilostQ('#sidehome li ul:first').show();ilostQ('#sidehome h3:first').addClass('active');ilostQ('#sidehome h3').click(function(){if(ilostQ(this).next().is(':hidden')){ilostQ('#sidehome h3').removeClass('active');ilostQ('#sidehome li ul').slideUp();ilostQ(this).next().slideDown();ilostQ(this).addClass('active');}});ilostQ('#comments ul.children li:first-child').addClass('toprep');ilostQ('#comments ul.children li:last-child').after('<li class="box-bottom"><span class="left"></span><span class="right"></span></li>');});$window.load(function(){var $side=ilostQ('#aside'),$footer=ilostQ('footer'),$article=ilostQ('article'),$gotop=ilostQ('#gotop'),$share=ilostQ('#share');if($side.length>0){var $sideoffset=$side.offset();}if($share.length>0){var $shareOffset=$share.offset();}$window.scroll(function(){var $scrollTop=$window.scrollTop(),$footeroffset=$footer.offset(),$footersll=$footeroffset.top-$window.height()-24;if($scrollTop>=100){$gotop.fadeIn(200);}else{$gotop.fadeOut(200);}if($window.width()>480){if($side.length>0){var $sideHeight=$sideoffset.top+$side.outerHeight(true)-$window.height();}if(($side.length>0)&&($article.outerHeight(true)>$side.outerHeight(true))){if($sideHeight<$scrollTop){$side.addClass('fixed');}else{$side.removeClass('fixed');}if($scrollTop>$footersll){$side.css({bottom:$scrollTop-$footersll+'px'});}else{$side.css({bottom:'0'});}}if($share.length>0){if((ilostQ.browser.msie==true)&&(ilostQ.browser.version==6.0)){if($scrollTop>$shareOffset.top-$share.outerHeight(true))$share.css({'top':$scrollTop-$shareOffset.top+'px','left':$shareOffset.left+'px'});}else{if($scrollTop>$shareOffset.top-$share.outerHeight(true))$share.addClass('fixedpop').css({'left':$shareOffset.left+'px'});}if($scrollTop<=$shareOffset.top)$share.removeClass('fixedpop').css({left:'auto'});}}});});})(jQuery);